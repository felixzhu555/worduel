{"ast":null,"code":"import _slicedToArray from \"/Users/felix_3gpdyfd/webdev_projects/worduel-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/felix_3gpdyfd/webdev_projects/worduel-app/frontend/src/pages/WorduelSetup.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Form, FormGroup, Label, Input, Alert } from \"reactstrap\";\nimport { useNavigate } from 'react-router-dom';\nimport socket from \"../socket\";\n\nfunction WorduelSetup() {\n  var nav = useNavigate();\n\n  var navWorduel = function navWorduel() {\n    nav(\"/worduel/\" + code);\n  };\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      code = _useState4[0],\n      setCode = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      usernameEmpty = _useState6[0],\n      setUsernameEmpty = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lobbyDNE = _useState8[0],\n      setLobbyDNE = _useState8[1];\n\n  var createNewLobby = function createNewLobby() {\n    if (username === \"\") {\n      setUsernameEmpty(true);\n      return;\n    }\n\n    setUsernameEmpty(false);\n    localStorage.setItem(\"username\", username);\n    var randomCode = Math.floor(Math.random() * (10000 - 1000) + 1000).toString();\n    socket.emit(\"try-create-lobby\", randomCode, username);\n  };\n\n  var joinLobby = function joinLobby() {\n    if (username === \"\") {\n      setUsernameEmpty(true);\n      return;\n    }\n\n    setUsernameEmpty(false);\n    localStorage.setItem(\"username\", username);\n    socket.emit(\"try-join-lobby\", code, username);\n  };\n\n  var handleCodeDNE = function handleCodeDNE() {\n    setLobbyDNE(true);\n  };\n\n  useEffect(function () {\n    socket.on(\"lobby-created\", function (code) {\n      nav(\"/worduel/\" + code);\n    });\n    socket.on(\"lobby-already-exists\", createNewLobby);\n    socket.on(\"lobby-joined\", navWorduel);\n    socket.on(\"lobby-doesnt-exist\", handleCodeDNE);\n    return function () {\n      socket.off(\"lobby-created\", function (code) {\n        nav(\"/worduel/\" + code);\n      });\n      socket.off(\"lobby-already-exists\", createNewLobby);\n      socket.off(\"lobby-joined\", navWorduel);\n      socket.off(\"lobby-doesnt-exist\", handleCodeDNE);\n    };\n  }, [socket]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Worduel!\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, \"Enter username:\"), /*#__PURE__*/React.createElement(Input, {\n    value: username,\n    onChange: function onChange(e) {\n      return setUsername(e.target.value);\n    },\n    name: \"username\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: createNewLobby,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"Create New Lobby\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"OR\"), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Enter 4-digit code:\"), /*#__PURE__*/React.createElement(Input, {\n    value: code,\n    onChange: function onChange(e) {\n      return setCode(e.target.value);\n    },\n    name: \"code\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    onClick: joinLobby,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Join Lobby\"), /*#__PURE__*/React.createElement(Alert, {\n    color: \"danger\",\n    isOpen: usernameEmpty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"Please enter a username.\"), /*#__PURE__*/React.createElement(Alert, {\n    color: \"danger\",\n    isOpen: lobbyDNE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Lobby not found, please try again.\"));\n}\n\nexport default WorduelSetup;","map":{"version":3,"names":["React","useEffect","useState","Button","Form","FormGroup","Label","Input","Alert","useNavigate","socket","WorduelSetup","nav","navWorduel","code","username","setUsername","setCode","usernameEmpty","setUsernameEmpty","lobbyDNE","setLobbyDNE","createNewLobby","localStorage","setItem","randomCode","Math","floor","random","toString","emit","joinLobby","handleCodeDNE","on","off","e","target","value"],"sources":["/Users/felix_3gpdyfd/webdev_projects/worduel-app/frontend/src/pages/WorduelSetup.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Form, FormGroup, Label, Input, Alert } from \"reactstrap\";\nimport { useNavigate } from 'react-router-dom';\nimport socket from \"../socket\";\n\nfunction WorduelSetup() {\n\n    const nav = useNavigate();\n\n    const navWorduel = () => {\n        nav(\"/worduel/\" + code);\n    }\n\n    const [username, setUsername] = useState(\"\");\n    const [code, setCode] = useState(\"\");\n    const [usernameEmpty, setUsernameEmpty] = useState(false);\n    const [lobbyDNE, setLobbyDNE] = useState(false);\n\n    const createNewLobby = () => {\n        if (username === \"\") {\n            setUsernameEmpty(true);\n            return;\n        }\n        setUsernameEmpty(false);\n        localStorage.setItem(\"username\", username);\n        let randomCode = Math.floor(Math.random() * (10000 - 1000) + 1000).toString();\n        socket.emit(\"try-create-lobby\", randomCode, username);\n    }\n\n    const joinLobby = () => {\n        if (username === \"\") {\n            setUsernameEmpty(true);\n            return;\n        }\n        setUsernameEmpty(false);\n        localStorage.setItem(\"username\", username);\n        socket.emit(\"try-join-lobby\", code, username);\n    }\n\n    const handleCodeDNE = () => {\n        setLobbyDNE(true);\n    }\n\n    useEffect(() => {\n        socket.on(\"lobby-created\", (code) => {\n            nav(\"/worduel/\" + code);\n        });\n        socket.on(\"lobby-already-exists\", createNewLobby);\n        socket.on(\"lobby-joined\", navWorduel);\n        socket.on(\"lobby-doesnt-exist\", handleCodeDNE);\n        return () => {\n            socket.off(\"lobby-created\", (code) => {\n                nav(\"/worduel/\" + code);\n            });\n            socket.off(\"lobby-already-exists\", createNewLobby);\n            socket.off(\"lobby-joined\", navWorduel);\n            socket.off(\"lobby-doesnt-exist\", handleCodeDNE);\n        }\n    }, [socket])\n\n\n    return (\n        <div>\n            <h1>\n                Worduel!\n            </h1>\n            <Form>\n                <FormGroup>\n                    <Label>\n                        Enter username:\n                    </Label>\n                    <Input \n                        value={username}\n                        onChange={e => setUsername(e.target.value)}\n                        name=\"username\"\n                        type=\"text\"\n                    />\n                </FormGroup>\n                <Button onClick={createNewLobby}>\n                    Create New Lobby\n                </Button>\n                <h3>\n                    OR\n                </h3>\n                <FormGroup>\n                    <Label>\n                        Enter 4-digit code:\n                    </Label>\n                    <Input \n                        value={code}\n                        onChange={e => setCode(e.target.value)}\n                        name=\"code\"\n                        type=\"text\"\n                    />\n                </FormGroup>\n            </Form>\n            <Button onClick={joinLobby}>\n                Join Lobby\n            </Button>\n            <Alert color=\"danger\" isOpen={usernameEmpty}>\n                Please enter a username.\n            </Alert>\n            <Alert color=\"danger\" isOpen={lobbyDNE}>\n                Lobby not found, please try again.\n            </Alert>\n        </div>\n    )\n}\n\nexport default WorduelSetup;"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,KAAzC,EAAgDC,KAAhD,QAA6D,YAA7D;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,SAASC,YAAT,GAAwB;EAEpB,IAAMC,GAAG,GAAGH,WAAW,EAAvB;;EAEA,IAAMI,UAAU,GAAG,SAAbA,UAAa,GAAM;IACrBD,GAAG,CAAC,cAAcE,IAAf,CAAH;EACH,CAFD;;EAJoB,gBAQYZ,QAAQ,CAAC,EAAD,CARpB;EAAA;EAAA,IAQba,QARa;EAAA,IAQHC,WARG;;EAAA,iBASId,QAAQ,CAAC,EAAD,CATZ;EAAA;EAAA,IASbY,IATa;EAAA,IASPG,OATO;;EAAA,iBAUsBf,QAAQ,CAAC,KAAD,CAV9B;EAAA;EAAA,IAUbgB,aAVa;EAAA,IAUEC,gBAVF;;EAAA,iBAWYjB,QAAQ,CAAC,KAAD,CAXpB;EAAA;EAAA,IAWbkB,QAXa;EAAA,IAWHC,WAXG;;EAapB,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;IACzB,IAAIP,QAAQ,KAAK,EAAjB,EAAqB;MACjBI,gBAAgB,CAAC,IAAD,CAAhB;MACA;IACH;;IACDA,gBAAgB,CAAC,KAAD,CAAhB;IACAI,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCT,QAAjC;IACA,IAAIU,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiB,QAAQ,IAAzB,IAAiC,IAA5C,EAAkDC,QAAlD,EAAjB;IACAnB,MAAM,CAACoB,IAAP,CAAY,kBAAZ,EAAgCL,UAAhC,EAA4CV,QAA5C;EACH,CATD;;EAWA,IAAMgB,SAAS,GAAG,SAAZA,SAAY,GAAM;IACpB,IAAIhB,QAAQ,KAAK,EAAjB,EAAqB;MACjBI,gBAAgB,CAAC,IAAD,CAAhB;MACA;IACH;;IACDA,gBAAgB,CAAC,KAAD,CAAhB;IACAI,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCT,QAAjC;IACAL,MAAM,CAACoB,IAAP,CAAY,gBAAZ,EAA8BhB,IAA9B,EAAoCC,QAApC;EACH,CARD;;EAUA,IAAMiB,aAAa,GAAG,SAAhBA,aAAgB,GAAM;IACxBX,WAAW,CAAC,IAAD,CAAX;EACH,CAFD;;EAIApB,SAAS,CAAC,YAAM;IACZS,MAAM,CAACuB,EAAP,CAAU,eAAV,EAA2B,UAACnB,IAAD,EAAU;MACjCF,GAAG,CAAC,cAAcE,IAAf,CAAH;IACH,CAFD;IAGAJ,MAAM,CAACuB,EAAP,CAAU,sBAAV,EAAkCX,cAAlC;IACAZ,MAAM,CAACuB,EAAP,CAAU,cAAV,EAA0BpB,UAA1B;IACAH,MAAM,CAACuB,EAAP,CAAU,oBAAV,EAAgCD,aAAhC;IACA,OAAO,YAAM;MACTtB,MAAM,CAACwB,GAAP,CAAW,eAAX,EAA4B,UAACpB,IAAD,EAAU;QAClCF,GAAG,CAAC,cAAcE,IAAf,CAAH;MACH,CAFD;MAGAJ,MAAM,CAACwB,GAAP,CAAW,sBAAX,EAAmCZ,cAAnC;MACAZ,MAAM,CAACwB,GAAP,CAAW,cAAX,EAA2BrB,UAA3B;MACAH,MAAM,CAACwB,GAAP,CAAW,oBAAX,EAAiCF,aAAjC;IACH,CAPD;EAQH,CAfQ,EAeN,CAACtB,MAAD,CAfM,CAAT;EAkBA,oBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cADJ,eAII,oBAAC,IAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,KAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,qBADJ,eAII,oBAAC,KAAD;IACI,KAAK,EAAEK,QADX;IAEI,QAAQ,EAAE,kBAAAoB,CAAC;MAAA,OAAInB,WAAW,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;IAAA,CAFf;IAGI,IAAI,EAAC,UAHT;IAII,IAAI,EAAC,MAJT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAJJ,CADJ,eAYI,oBAAC,MAAD;IAAQ,OAAO,EAAEf,cAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,sBAZJ,eAeI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,QAfJ,eAkBI,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,KAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,yBADJ,eAII,oBAAC,KAAD;IACI,KAAK,EAAER,IADX;IAEI,QAAQ,EAAE,kBAAAqB,CAAC;MAAA,OAAIlB,OAAO,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;IAAA,CAFf;IAGI,IAAI,EAAC,MAHT;IAII,IAAI,EAAC,MAJT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAJJ,CAlBJ,CAJJ,eAkCI,oBAAC,MAAD;IAAQ,OAAO,EAAEN,SAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAlCJ,eAqCI,oBAAC,KAAD;IAAO,KAAK,EAAC,QAAb;IAAsB,MAAM,EAAEb,aAA9B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8BArCJ,eAwCI,oBAAC,KAAD;IAAO,KAAK,EAAC,QAAb;IAAsB,MAAM,EAAEE,QAA9B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,wCAxCJ,CADJ;AA8CH;;AAED,eAAeT,YAAf"},"metadata":{},"sourceType":"module"}