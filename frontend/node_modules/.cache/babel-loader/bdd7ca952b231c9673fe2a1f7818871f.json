{"ast":null,"code":"import _slicedToArray from \"/Users/felix_3gpdyfd/webdev_projects/worduel-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/felix_3gpdyfd/webdev_projects/worduel-app/frontend/src/pages/WorduelSetup.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Form, FormGroup, Label, Input, Alert } from \"reactstrap\";\nimport { useNavigate } from 'react-router-dom';\nimport socket from \"../socket\";\n\nfunction WorduelSetup() {\n  var nav = useNavigate();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      code = _useState4[0],\n      setCode = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      usernameEmpty = _useState6[0],\n      setUsernameEmpty = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lobbyDNE = _useState8[0],\n      setLobbyDNE = _useState8[1];\n\n  var createNewLobby = function createNewLobby() {\n    if (username === \"\") {\n      setUsernameEmpty(true);\n      return;\n    }\n\n    setUsernameEmpty(false);\n    sessionStorage.setItem(\"username\", username);\n    var randomCode = Math.floor(Math.random() * (10000 - 1000) + 1000).toString();\n    socket.emit(\"try-create-lobby\", randomCode, username);\n  };\n\n  var joinLobby = function joinLobby() {\n    if (username === \"\") {\n      setUsernameEmpty(true);\n      return;\n    }\n\n    setUsernameEmpty(false);\n    sessionStorage.setItem(\"username\", username);\n    socket.emit(\"try-join-lobby\", code, username);\n  };\n\n  useEffect(function () {\n    socket.on(\"lobby-created\", function (randomCode, players) {\n      sessionStorage.setItem(\"players\", JSON.stringify(players));\n      nav(\"/worduel/\" + randomCode);\n    });\n    socket.on(\"lobby-already-exists\", createNewLobby);\n    socket.on(\"lobby-joined\", function (players) {\n      sessionStorage.setItem(\"players\", JSON.stringify(players));\n      nav(\"/worduel/\" + code);\n    });\n    socket.on(\"lobby-doesnt-exist\", function () {\n      setLobbyDNE(true);\n    });\n    return function () {\n      socket.removeAllListeners();\n    };\n  }, [socket]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Worduel!\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"Enter username:\"), /*#__PURE__*/React.createElement(Input, {\n    value: username,\n    onChange: function onChange(e) {\n      return setUsername(e.target.value);\n    },\n    name: \"username\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: createNewLobby,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"Create New Lobby\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"OR\"), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \"Enter 4-digit code:\"), /*#__PURE__*/React.createElement(Input, {\n    value: code,\n    onChange: function onChange(e) {\n      return setCode(e.target.value);\n    },\n    name: \"code\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    onClick: joinLobby,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Join Lobby\"), /*#__PURE__*/React.createElement(Alert, {\n    color: \"danger\",\n    isOpen: usernameEmpty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"Please enter a username.\"), /*#__PURE__*/React.createElement(Alert, {\n    color: \"danger\",\n    isOpen: lobbyDNE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Lobby not found, please try again.\"));\n}\n\nexport default WorduelSetup;","map":{"version":3,"names":["React","useEffect","useState","Button","Form","FormGroup","Label","Input","Alert","useNavigate","socket","WorduelSetup","nav","username","setUsername","code","setCode","usernameEmpty","setUsernameEmpty","lobbyDNE","setLobbyDNE","createNewLobby","sessionStorage","setItem","randomCode","Math","floor","random","toString","emit","joinLobby","on","players","JSON","stringify","removeAllListeners","e","target","value"],"sources":["/Users/felix_3gpdyfd/webdev_projects/worduel-app/frontend/src/pages/WorduelSetup.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Form, FormGroup, Label, Input, Alert } from \"reactstrap\";\nimport { useNavigate } from 'react-router-dom';\nimport socket from \"../socket\";\n\nfunction WorduelSetup() {\n\n    const nav = useNavigate();\n\n    const [username, setUsername] = useState(\"\");\n    const [code, setCode] = useState(\"\");\n    const [usernameEmpty, setUsernameEmpty] = useState(false);\n    const [lobbyDNE, setLobbyDNE] = useState(false);\n\n    const createNewLobby = () => {\n        if (username === \"\") {\n            setUsernameEmpty(true);\n            return;\n        }\n        setUsernameEmpty(false);\n        sessionStorage.setItem(\"username\", username);\n        let randomCode = Math.floor(Math.random() * (10000 - 1000) + 1000).toString();\n        socket.emit(\"try-create-lobby\", randomCode, username);\n    }\n\n    const joinLobby = () => {\n        if (username === \"\") {\n            setUsernameEmpty(true);\n            return;\n        }\n        setUsernameEmpty(false);\n        sessionStorage.setItem(\"username\", username);\n        socket.emit(\"try-join-lobby\", code, username);\n    }\n\n    useEffect(() => {\n\n        socket.on(\"lobby-created\", (randomCode, players) => {\n            sessionStorage.setItem(\"players\", JSON.stringify(players));\n            nav(\"/worduel/\" + randomCode);\n        });\n\n        socket.on(\"lobby-already-exists\", createNewLobby);\n\n        socket.on(\"lobby-joined\", (players) => {\n            sessionStorage.setItem(\"players\", JSON.stringify(players));\n            nav(\"/worduel/\" + code);\n        });\n\n        socket.on(\"lobby-doesnt-exist\", () => {\n            setLobbyDNE(true);\n        });\n\n        return () => {\n            socket.removeAllListeners()\n        }\n    }, [socket])\n\n\n    return (\n        <div>\n            <h1>\n                Worduel!\n            </h1>\n            <Form>\n                <FormGroup>\n                    <Label>\n                        Enter username:\n                    </Label>\n                    <Input \n                        value={username}\n                        onChange={e => setUsername(e.target.value)}\n                        name=\"username\"\n                        type=\"text\"\n                    />\n                </FormGroup>\n                <Button onClick={createNewLobby}>\n                    Create New Lobby\n                </Button>\n                <h3>\n                    OR\n                </h3>\n                <FormGroup>\n                    <Label>\n                        Enter 4-digit code:\n                    </Label>\n                    <Input \n                        value={code}\n                        onChange={e => setCode(e.target.value)}\n                        name=\"code\"\n                        type=\"text\"\n                    />\n                </FormGroup>\n            </Form>\n            <Button onClick={joinLobby}>\n                Join Lobby\n            </Button>\n            <Alert color=\"danger\" isOpen={usernameEmpty}>\n                Please enter a username.\n            </Alert>\n            <Alert color=\"danger\" isOpen={lobbyDNE}>\n                Lobby not found, please try again.\n            </Alert>\n        </div>\n    )\n}\n\nexport default WorduelSetup;"],"mappings":"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"},"metadata":{},"sourceType":"module"}